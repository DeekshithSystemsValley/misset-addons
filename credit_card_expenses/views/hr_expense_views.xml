<?xml version="1.0" encoding="utf-8"?>
<odoo>
		<record id="view_hr_expense_sheet_form_inherit" model="ir.ui.view">
            <field name="name">hr.expense.sheet.form</field>
            <field name="model">hr.expense.sheet</field>
            <field name="inherit_id" ref="hr_expense.view_hr_expense_sheet_form"></field>
            <field eval="25" name="priority"/>
            <field name="arch" type="xml">
            	<field name="journal_id" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</field>
            	<field name="currency_id" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</field> 
            	<field name="bank_journal_id" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</field> 
            	
            </field>
        </record>
        
        <record id="hr_expense_form_view_inherit" model="ir.ui.view">
            <field name="name">hr.expense.form</field>
            <field name="model">hr.expense</field>
            <field name="inherit_id" ref="hr_expense.hr_expense_form_view"></field>
            <field eval="25" name="priority"/>
            <field name="arch" type="xml">
            	<field name="payment_mode" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</field>
            	<label for="payment_mode" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</label>
            	<field name="currency_id" position="attributes">
            		<attribute name="invisible">True</attribute>
            	</field> 
            	<field name='employee_id' position="replace">
            		<field name="employee_id" groups="credit_card_expenses.group_expenses_superuser"></field>
            	</field>
            </field>
        </record>
        
        <record id="view_hr_expense_filter_inherit" model="ir.ui.view">
            <field name="name">hr.expense.filter.view</field>
            <field name="model">hr.expense</field>
            <field name="inherit_id" ref='hr_expense.view_hr_expense_filter'></field>
            <field name="arch" type="xml">
            <xpath expr="//search" postion='inside'>
            <filter string="Payment Mode" name="payment_by_company"
                            domain="[('payment_mode','=','company_account')]" invisible="not context.get('from_credi_card_expense',False)"/>
            <filter string="Payment Mode" name="payment_by_own_account"
                            domain="[('payment_mode','=','own_account')]" invisible="context.get('from_credi_card_expense',False)"/>
            </xpath>
             </field>
         </record>
        <record id="hr_expense_actions_my_unsubmitted_credit_card" model="ir.actions.act_window">
		    <field name="name">My Expenses to Submit</field>
		    <field name="res_model">hr.expense</field>
		     <field name="search_view_id" ref="hr_expense.view_hr_expense_filter"/>
		    <field name="view_type">form</field>
		    <field name="view_mode">tree,kanban,form,graph,pivot</field>
		    <field name="context" eval="{'from_credi_card_expense':True}" />
		    <field name="help" type="html">
              <p>
                The steps to process expenses are:
                <ol>
                    <li>You record expenses,</li>
                    <li>Periodically, you submit expenses report to your manager,</li>
                    <li>Once approved, your expense report, goes to the accounting,</li>
                    <li>The accountant validates entries and reimburse you.</li>
                </ol>
              </p>
            </field>
		</record>
		
		<record id="action_hr_expense_sheet_my_all_crdit_card" model="ir.actions.act_window">
            <field name="name">My Reports</field>
            <field name="res_model">hr.expense.sheet</field>
            <field name="view_mode">tree,kanban,form,pivot,graph</field>
            <field name="search_view_id" ref="hr_expense.view_hr_expense_sheet_filter"/>
            <field name="domain">[('employee_id.user_id', '=', uid)]</field>
             <field name="context" eval="{'from_credi_card_expense':True}" />
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click here to create a new expense report.
              </p><p>
                Once you have created your expense, submit it to your manager who will validate it.
              </p>
            </field>
        </record>
        <menuitem id="menu_hr_expense_sheet_my_reports_credit_card" name="Expense Reports" sequence="3" parent="menu_hr_expense_my_expenses_credit_card" action="action_hr_expense_sheet_my_all_crdit_card" load_xmlid="True"/>
        
</odoo>
